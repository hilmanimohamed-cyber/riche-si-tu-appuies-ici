<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Valentine üíò</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top,#ffb3c7,#ff6aa2);
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;
  overflow:hidden;
}
.card{
  width:min(520px,92vw);
  background:rgba(255,255,255,.22);
  backdrop-filter:blur(10px);
  border-radius:24px;
  padding:24px;
  text-align:center;
  color:#fff;
  box-shadow:0 18px 50px rgba(0,0,0,.25);
  position:relative;
  z-index:2;
}
img{
  max-width:100%;
  border-radius:16px;
}
.stage{
  position:relative;
  height:150px;
  margin-top:18px;
}
button{
  border:0;
  padding:14px 20px;
  border-radius:999px;
  font-weight:700;
  font-size:16px;
  cursor:pointer;
  transition:all .25s ease;
  box-shadow:0 10px 25px rgba(0,0,0,.18);
}
#yes{background:#16d38a;color:#083b27;}
#no{
  background:#fff;
  color:#d1004b;
  position:absolute;
  left:60%;
  top:50%;
  transform:translate(-50%,-50%);
}
.msg{
  display:none;
  margin-top:18px;
  font-size:22px;
  font-weight:800;
}
.final-gif{
  display:none;
  margin-top:15px;
}

/* CONFETTIS */
.confetti{
  position:fixed;
  top:-10px;
  width:10px;
  height:10px;
  opacity:0.9;
  animation: fall linear forwards;
  z-index:1;
}
@keyframes fall{
  to{
    transform:translateY(110vh) rotate(720deg);
    opacity:0;
  }
}
</style>
</head>

<body>

<div class="card">

  <!-- GIF D‚ÄôENTR√âE -->
  <img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" alt="love gif">

  <h1>üíå Kenza‚Ä¶</h1>
  <p>Accepterais-tu d‚Äô√™tre ma Valentine ?</p>

  <div class="stage" id="stage">
    <button id="yes">Oui üíò</button>
    <button id="no">Non üôà</button>
  </div>

  <!-- GIF FINAL -->
  <img class="final-gif" id="finalGif"
       src="https://media.giphy.com/media/l4FGpP4lxGGgK5CBW/giphy.gif"
       alt="love explosion">

  <!-- MESSAGE FINAL -->
  <div class="msg" id="msg">h√¢te de te voir sguigui3a je t‚Äôaime ‚ù§Ô∏è</div>

</div>

<script>
const yesBtn = document.getElementById("yes");
const noBtn  = document.getElementById("no");
const stage  = document.getElementById("stage");
const msg    = document.getElementById("msg");
const finalGif = document.getElementById("finalGif");

let clicks = 0;
let scale = 1;

/* Bouton NON qui fuit */
function moveNo(){
  const r = stage.getBoundingClientRect();
  const b = noBtn.getBoundingClientRect();
  const pad = 8;
  const x = pad + Math.random()*(r.width - b.width - pad*2);
  const y = pad + Math.random()*(r.height - b.height - pad*2);
  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
  noBtn.style.transform = "translate(0,0)";
}
["mouseenter","pointerenter","touchstart"].forEach(evt=>{
  noBtn.addEventListener(evt, moveNo, {passive:true});
});

/* CONFETTIS */
function launchConfetti(){
  const colors = ["#ff4d6d","#ffd166","#06d6a0","#4cc9f0","#c77dff"];
  for(let i=0;i<120;i++){
    const c = document.createElement("div");
    c.className = "confetti";
    c.style.left = Math.random()*100 + "vw";
    c.style.background = colors[Math.floor(Math.random()*colors.length)];
    c.style.animationDuration = (2 + Math.random()*2) + "s";
    c.style.width = c.style.height = (6 + Math.random()*6) + "px";
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}

/* Bouton OUI */
yesBtn.addEventListener("click", ()=>{
  clicks++;
  scale += 0.35;
  yesBtn.style.transform = `scale(${scale})`;

  if(clicks >= 3){
    msg.style.display = "block";
    finalGif.style.display = "block";
    launchConfetti();
    yesBtn.disabled = true;
    noBtn.disabled = true;
  }
});

setTimeout(moveNo,100);
</script>

</body>
</html>
